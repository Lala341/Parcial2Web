(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e){e.exports={Position:"#",Name:"Nombre","Directed by":"Dirigido por",Country:"Pa\xeds",Budget:"Presupuesto",Release:"Lanzamiento",Views:"Vistas",One:" mill\xf3n",Other:" millones"}},35:function(e){e.exports={Position:"#",Name:"Name","Directed by":"Directed by",Country:"Country",Budget:"Budget",Release:"Release",Views:"Views",One:" milion",Other:" milions"}},48:function(e,t,a){e.exports=a(56)},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),o=a.n(i),s=a(24),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var d=a(4),u=a(5),h=a(7),p=a(6),g=a(8),m=a(30),f=a(32),v=a(14),b=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",{id:this.props.peli.id,onClick:function(){return e.props.handleRowClick(e.props.peli)}},r.a.createElement("th",{scope:"row"},this.props.peli.id),r.a.createElement("td",null,this.props.peli.name),r.a.createElement("td",null,this.props.peli.directedBy),r.a.createElement("td",null,this.props.peli.budget,r.a.createElement(m.a,{value:this.props.peli.budget,one:r.a.createElement(f.a,{id:"One"}),other:r.a.createElement(f.a,{id:"Other"})})),r.a.createElement("td",null,this.props.peli.country),r.a.createElement("td",null,r.a.createElement(v.a,{value:new Date(this.props.peli.releaseDate),year:"numeric",month:"long",day:"numeric",weekday:"long"})),r.a.createElement("td",null,r.a.createElement(v.b,{value:this.props.peli.views})))}}]),t}(r.a.Component),w=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.props.p.poster,class:"card-img-top",alt:"Fuera de linea"}),r.a.createElement("div",{class:"card-body"},r.a.createElement("h5",{class:"card-title"},this.props.p.name),r.a.createElement("p",{class:"card-text"},this.props.p.description),r.a.createElement("h3",{class:"card-title"},"Cast"),r.a.createElement("p",{class:"card-text"},this.props.p.cast)))}}]),t}(r.a.Component),E=a(12),y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],listen:[],selected:[{id:1,name:"",directedBy:"",country:"",budget:1,views:1256e3,releaseDate:"",description:"",cast:"",poster:""}]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(navigator.onLine)fetch("https://gist.githubusercontent.com/josejbocanegra/8b436480129d2cb8d81196050d485c56/raw/48cc65480675bf8b144d89ecb8bcd663b05e1db0/data-en.json").then(function(e){return e.json()}).then(function(t){console.log(t),console.log(JSON.stringify(t)),e.setState({list:t,selected:[t[0]]}),localStorage.setItem("list",JSON.stringify(t))}),fetch("https://gist.githubusercontent.com/josejbocanegra/f784b189117d214578ac2358eb0a01d7/raw/2b22960c3f203bdf4fac44cc7e3849689218b8c0/data-es.json").then(function(e){return e.json()}).then(function(t){console.log(t),console.log(JSON.stringify(t)),e.setState({listen:t,selected:[t[0]]}),localStorage.setItem("listen",JSON.stringify(t)),e.drawChart(t)});else{if(null===localStorage.getItem("list"))this.setState({list:[]});else{var t=JSON.parse(localStorage.getItem("list")),a=[t[0]];this.setState({list:t,selected:a})}if(null===localStorage.getItem("listen"))this.setState({listen:[]});else{var n=JSON.parse(localStorage.getItem("listen"));a=[n[0]];this.setState({listen:n,selected:a})}this.getGraph(t,n)}}},{key:"drawChart",value:function(e){var t=E.e(this.refs.canvas),a=10,n=70,r=700-n-10,i=500-a-40,o=t.append("svg");o.attr("width",700),o.attr("height",500);var s=o.append("g").attr("transform","translate(".concat(n,",").concat(a,")")),c=E.d().domain([0,1e7]).range([i,0]),l=E.c().domain(e.map(function(e){return e.id})).range([0,r]).padding(.1);s.selectAll("rect").data(e).enter().append("rect").attr("class","bar").style("fill","green").attr("x",function(e){return l(e.id)}).attr("y",function(e){return c(e.views)}).attr("height",function(e){return i-c(e.views)}).attr("width",l.bandwidth()),s.append("g").classed("x--axis",!0).call(E.a(l)).attr("transform","translate(0, ".concat(i,")")),s.append("g").classed("y--axis",!0).call(E.b(c))}},{key:"handleRowClick",value:function(e){console.log("hola"),this.setState({selected:[e]})}},{key:"getData",value:function(){var e;return"es-ES"===(navigator.language||navigator.userLanguage)?(this.state.list[0],e=this.state.list):(this.state.listen[0],e=this.state.listen),e}},{key:"getGraph",value:function(e,t){var a;a="es-ES"===(navigator.language||navigator.userLanguage)?e:t,this.drawChart(a)}},{key:"render",value:function(){var e=this;return this.handleRowClick=this.handleRowClick.bind(this),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-7"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Name"})),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Directed by"})),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Country"})),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Budget"})),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Release"})),r.a.createElement("th",{scope:"col"},r.a.createElement(f.a,{id:"Views"})))),r.a.createElement("tbody",null,this.getData().map(function(t,a){return r.a.createElement(b,{handleRowClick:e.handleRowClick,key:a,peli:t})})))),r.a.createElement("div",{className:"col-5"},r.a.createElement(w,{p:this.state.selected[0]}))),r.a.createElement("div",{ref:"canvas"}))}}]),t}(r.a.Component),O=a(34),k=a(35);o.a.render(r.a.createElement(s.a,{locale:"es-ES"===(navigator.language||navigator.userLanguage)?"es":"en",messages:"es-ES"===(navigator.language||navigator.userLanguage)?O:k},r.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");c?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()}},[[48,1,2]]]);
//# sourceMappingURL=main.155000cf.chunk.js.map